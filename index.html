<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0B0B0D" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icons/icon-192.png" />
  <title>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app" class="app">
    <header class="topbar">
      <button class="nav-btn" id="prevMonth" aria-label="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥">‚Üê</button>
      <button class="month-btn" id="monthBtn" aria-label="–í—ã–±—Ä–∞—Ç—å –º–µ—Å—è—Ü"><span id="monthLabel"></span></button>
      <button class="nav-btn" id="nextMonth" aria-label="–ú–µ—Å—è—Ü –≤–ø–µ—Ä—ë–¥">‚Üí</button>
      <button class="year-btn" id="yearBtn" aria-label="–í—ã–±—Ä–∞—Ç—å –≥–æ–¥"><span id="yearLabel"></span></button>
      <button class="home-btn" id="homeBtn" aria-label="–ö —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–µ">‚åÇ</button>
    </header>

    <main class="main">
      <section class="calendar">
        <div class="dow">
          <div>–ü–Ω</div><div>–í—Ç</div><div>–°—Ä</div><div>–ß—Ç</div><div>–ü—Ç</div><div>–°–±</div><div>–í—Å</div>
        </div>
        <div id="grid" class="grid" aria-label="–ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–µ—Å—è—Ü–∞"></div>
      </section>

      <section class="daypanel">
        <div class="daypanel-header">
          <div class="day-title" id="dayTitle"></div>
          <div class="daypanel-actions">
            <button class="icon-btn" id="addBtn" aria-label="–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ">+</button>
            <button class="icon-btn" id="settingsBtn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏é</button>
          </div>
        </div>
        <div id="dayList" class="daylist"></div>
      </section>
    </main>

    <!-- Backdrop for month/year overlays -->
    <div id="overlayBackdrop" class="overlay-backdrop hidden"></div>

    <div id="monthPicker" class="overlay hidden" role="dialog" aria-label="–í—ã–±–æ—Ä –º–µ—Å—è—Ü–∞">
      <div class="overlay-card">
        <div class="months-grid" id="monthsGrid"></div>
      </div>
    </div>

    <div id="yearPicker" class="overlay hidden" role="dialog" aria-label="–í—ã–±–æ—Ä –≥–æ–¥–∞">
      <div class="overlay-card year-card">
        <div class="year-list" id="yearList"></div>
      </div>
    </div>

    <!-- Event modal -->
    <div id="eventModal" class="modal hidden" role="dialog" aria-label="–°–æ–±—ã—Ç–∏–µ">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="cancelEventBtn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
          <div class="modal-title" id="eventModalTitle">–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ</div>
          <div style="width:72px;"></div>
        </div>

        <div class="row">
          <button class="pill emoji-pill" id="emojiBtn" aria-label="–í—ã–±—Ä–∞—Ç—å —Å–º–∞–π–ª–∏–∫"><span id="emojiPreview">üôÇ</span></button>
          <input class="pill title-input" id="titleInput" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" autocomplete="off" />
          <button class="pill color-pill" id="colorBtn" aria-label="–í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç"><span id="colorPreview"></span></button>
        </div>

        <div class="row row2">
          <button class="pill date-pill" id="startDateBtn" aria-label="–î–∞—Ç–∞">19.01.2026</button>
          <button class="pill add-range-pill" id="addRangeBtn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–∏–æ–¥">Ôºã</button>
          <button class="pill date-pill hidden" id="endDateBtn" aria-label="–î–∞—Ç–∞ –ø–æ">–ü–æ: 20.01.2026</button>
          <input class="pill time-input" id="timeInput" type="time" aria-label="–í—Ä–µ–º—è —Å –∫–∞–∫–æ–≥–æ" />
        </div>

        <button class="primary-btn" id="saveEventBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
    </div>

    <!-- Emoji picker -->
    <div id="emojiPicker" class="modal hidden" role="dialog" aria-label="–í—ã–±–æ—Ä —Å–º–∞–π–ª–∏–∫–∞">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeEmojiBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–°–º–∞–π–ª–∏–∫</div>
          <div style="width:72px;"></div>
        </div>
        <div class="emoji-section frequent" style="display:none">
          <div class="emoji-grid" id="emojiFrequent"></div>
        </div>
        <div class="emoji-section">
          <div class="section-title">–í—Å–µ</div>
          <div class="emoji-grid" id="emojiAll"></div>
        </div>
      </div>
    </div>

    <!-- Color picker -->
    <div id="colorPicker" class="modal hidden" role="dialog" aria-label="–í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeColorBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–¶–≤–µ—Ç</div>
          <div style="width:72px;"></div>
        </div>
        <div class="color-grid" id="colorGrid"></div>
      </div>
    </div>

    <!-- Settings -->
    <div id="settingsModal" class="modal hidden" role="dialog" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeSettingsBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
          <div style="width:72px;"></div>
        </div>

        <div class="settings">
          <div class="settings-group">
            <div class="settings-item">
              <div class="settings-label">–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è</div>
              <button class="settings-link" id="birthdaysBtn">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
            <div class="settings-item">
              <div class="settings-label">–û—Ç–ø—É—Å–∫–∞</div>
              <button class="settings-link" id="vacationsBtn">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>

          <div class="settings-group">
            <div class="settings-item">
              <div class="settings-label">–õ–∏–Ω–∏–∏ —Å–µ—Ç–∫–∏</div>
              <div class="segmented">
                <button class="seg-btn" data-gridline="white">–ë–µ–ª—ã–µ</button>
                <button class="seg-btn" data-gridline="gray">–°–µ—Ä—ã–µ</button>
              </div>
            </div>
          </div>

          <div class="settings-group">
            <div class="settings-item">
              <div class="settings-label">–í—ã–±–æ—Ä–∫–∞ –ø–æ —Å–æ–±—ã—Ç–∏—è–º</div>
              <button class="settings-link" id="searchBtn">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
            <div class="settings-item">
              <div class="settings-label">–ü—Ä–æ—à–µ–¥—à–∏–µ (—Å–∫—Ä—ã—Ç—ã–µ)</div>
              <button class="settings-link" id="hiddenBtn">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>

          <div class="settings-group">
            <div class="settings-item">
              <div class="settings-label">–≠–∫—Å–ø–æ—Ä—Ç</div>
              <button class="settings-link" id="exportBtn">–§–∞–π–ª</button>
            </div>
            <div class="settings-item">
              <div class="settings-label">–ò–º–ø–æ—Ä—Ç</div>
              <label class="settings-link file-label">
                –§–∞–π–ª
                <input id="importInput" type="file" accept="application/json" />
              </label>
            </div>
          </div>

          <div class="settings-group">
            <div class="settings-item">
              <div class="settings-label">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</div>
              <button class="settings-link" id="aboutBtn">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Search -->
    <div id="searchModal" class="modal hidden" role="dialog" aria-label="–í—ã–±–æ—Ä–∫–∞ –ø–æ —Å–æ–±—ã—Ç–∏—è–º">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeSearchBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–í—ã–±–æ—Ä–∫–∞</div>
          <div style="width:72px;"></div>
        </div>

        <div class="search-bar">
          <button class="pill emoji-pill" id="searchEmojiBtn" aria-label="–°–º–∞–π–ª–∏–∫ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞"><span id="searchEmojiPreview">üîé</span></button>
          <input class="pill search-input" id="searchInput" type="text" placeholder="–ù–∞—á–Ω–∏ –ø–∏—Å–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ‚Ä¶" autocomplete="off" />
          <button class="pill clear-pill" id="clearSearchBtn" aria-label="–°–±—Ä–æ—Å">√ó</button>
        </div>

        <div id="searchList" class="list"></div>
      </div>
    </div>

    <!-- Hidden -->
    <div id="hiddenModal" class="modal hidden" role="dialog" aria-label="–ü—Ä–æ—à–µ–¥—à–∏–µ (—Å–∫—Ä—ã—Ç—ã–µ)">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeHiddenBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–ü—Ä–æ—à–µ–¥—à–∏–µ</div>
          <div style="width:72px;"></div>
        </div>
        <div id="hiddenList" class="list"></div>
      </div>
    </div>

    <!-- Birthdays -->
    <div id="birthdaysModal" class="modal hidden" role="dialog" aria-label="–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeBirthdaysBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è</div>
          <div style="width:72px;"></div>
        </div>

        <div class="birthdays-top">
          <button class="primary-btn small" id="addBirthdayBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>

        <div id="birthdaysList" class="list"></div>
      </div>
    </div>

    <!-- Birthday editor -->
    <div id="birthdayModal" class="modal hidden" role="dialog" aria-label="–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="cancelBirthdayBtn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
          <div class="modal-title" id="birthdayModalTitle">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</div>
          <div style="width:72px;"></div>
        </div>

        <div class="birthday-form">
          <input class="pill title-input" id="bdayNameInput" type="text" placeholder="–ò–º—è" autocomplete="off" />
          <input class="pill" id="bdayDateInput" type="date" />
          <div class="hint">–ï—Å–ª–∏ –¥–∞—Ç–∞ 29.02 ‚Äî –≤ –Ω–µ –≤–∏—Å–æ–∫–æ—Å–Ω—ã–µ –≥–æ–¥—ã –±—É–¥–µ—Ç 28.02.</div>
        </div>

        <button class="primary-btn" id="saveBirthdayBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>

    <!-- About -->
    <div id="aboutModal" class="modal hidden" role="dialog" aria-label="–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeAboutBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</div>
          <div style="width:72px;"></div>
        </div>
        <div class="about">
          <div class="about-title">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</div>
          <div class="about-text">
            –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ –º–µ—Å—è—Ü —Å –±—ã—Å—Ç—Ä—ã–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏–π, —Ä—É—á–Ω—ã–º–∏ –¥–Ω—è–º–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ —É–¥–æ–±–Ω–æ–π –≤—ã–±–æ—Ä–∫–æ–π.
          </div>
          <div class="about-row"><span>–í–µ—Ä—Å–∏—è</span><span>1.0</span></div>
          <div class="about-row"><span>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span><a href="mailto:ivangpt1337@gmail.com">ivangpt1337@gmail.com</a></div>
          <div class="about-text small">
            –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –≤–∞—à–µ–º—É –¥–µ–π—Å—Ç–≤–∏—é.
          </div>
        </div>
      </div>
    </div>

  </div>

    <!-- Vacations -->
    <div id="vacationsModal" class="modal hidden" role="dialog" aria-label="–û—Ç–ø—É—Å–∫–∞">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="closeVacationsBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          <div class="modal-title">–û—Ç–ø—É—Å–∫–∞</div>
          <div style="width:72px;"></div>
        </div>

        <div class="birthdays-top" style="display:flex; justify-content:space-between; align-items:center;">
          <button class="primary-btn small" id="addVacationBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
          <div style="display:flex; gap:8px;">
            <button class="nav-btn" id="vacYearPrev" aria-label="–ì–æ–¥ –Ω–∞–∑–∞–¥">‚Üê</button>
            <button class="year-btn" id="vacYearBtn" aria-label="–ì–æ–¥"><span id="vacYearLabel"></span></button>
            <button class="nav-btn" id="vacYearNext" aria-label="–ì–æ–¥ –≤–ø–µ—Ä–µ–¥">‚Üí</button>
          </div>
        </div>

        <div id="vacationsList" class="list"></div>
      </div>
    </div>

    <div id="vacationModal" class="modal hidden" role="dialog" aria-label="–û—Ç–ø—É—Å–∫">
      <div class="modal-card">
        <div class="modal-top">
          <button class="text-btn" id="cancelVacationBtn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
          <div class="modal-title" id="vacationModalTitle">–û—Ç–ø—É—Å–∫</div>
          <div style="width:72px;"></div>
        </div>

        <div class="row">
          <button class="pill date-pill" id="vacStartBtn">–°: 19.01.2026</button>
          <button class="pill date-pill" id="vacEndBtn">–ü–æ: 20.01.2026</button>
        </div>

        <button class="primary-btn" id="saveVacationBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>

    <!-- Date picker (custom dark) -->
    <div id="datePickerModal" class="overlay hidden" role="dialog" aria-label="–í—ã–±–æ—Ä –¥–∞—Ç—ã">
      <div class="overlay-card">
        <div class="datepick-top">
          <button class="nav-btn" id="dpPrev" aria-label="–ú–µ—Å—è—Ü –Ω–∞–∑–∞–¥">‚Üê</button>
          <div class="datepick-title">
            <span id="dpMonthLabel"></span> <span id="dpYearLabel"></span>
          </div>
          <button class="nav-btn" id="dpNext" aria-label="–ú–µ—Å—è—Ü –≤–ø–µ—Ä–µ–¥">‚Üí</button>
        </div>
        <div class="dow">
          <div>–ü–Ω</div><div>–í—Ç</div><div>–°—Ä</div><div>–ß—Ç</div><div>–ü—Ç</div><div>–°–±</div><div>–í—Å</div>
        </div>
        <div id="dpGrid" class="grid" aria-label="–ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã"></div>
      </div>
    </div>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
    }
  </script>
</body>
</html>
